const correctCredentials = [
    { username: 'axel', password: 'lolcow12' },
    { username: 'Joshua', password: 'paris' },
    { username: 'frawd', password: 'pasta' }
];

const usernameInput = document.getElementById('username');
const passwordInput = document.getElementById('password');
const errorMessage = document.getElementById('errorMessage');
const errorGif = document.getElementById('errorGif');
const incorrectCounter = document.getElementById('incorrectCounter');
const form = document.getElementById('loginForm');

let attempts = 0;
let isFirstGif = true;

function setOpacity(elements, value) {
    elements.forEach(element => {
        if (element) {
            element.style.opacity = value;
        }
    });
}

form.addEventListener('submit', function(event) {
    event.preventDefault();
    const enteredUsername = usernameInput.value;
    const enteredPassword = passwordInput.value;

    const isValid = correctCredentials.some(credential =>
        credential.username === enteredUsername && credential.password === enteredPassword
    );

    if (isValid) {
        window.location.href = 'success/'; // Redirect to /success on valid credentials
    } else {
        attempts++;
        incorrectCounter.textContent = `Incorrect attempts: ${attempts}`;
        errorMessage.style.display = 'block';
        // Cycle between GIFs
        if (isFirstGif) {
            errorGif.src = 'images/anime-girl2.gif'; // Switch to second GIF
        } else {
            errorGif.src = 'images/anime-girl1.gif'; // Switch back to first GIF
        }
        isFirstGif = !isFirstGif; // Toggle the state
    }

    // Ensure opacity changes are applied
    setOpacity([document.getElementById('loginContainer'), document.getElementById('loginForm'), document.getElementById('errorMessage'), document.getElementById('errorGif')], '1');
});

// Trigger fade-in effect on page load
window.addEventListener('load', () => {
    setOpacity([document.getElementById('loginContainer'), document.getElementById('loginForm'), document.getElementById('errorMessage'), document.getElementById('errorGif')], '1');
});

// Sparkle effect code remains unchanged
document.addEventListener('DOMContentLoaded', () => {
    // Your sparkle effect code here
});
