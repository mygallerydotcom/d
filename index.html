<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Login</title>
    <style>
        /* Inline styles to set initial opacity to 0 */
        #loginContainer, #loginForm, #errorMessage, #errorGif {
            opacity: 0;
        }
        .mascot {
            position: fixed;
            bottom: 10px;
            right: 10px;
            width: 100px;
            height: auto;
            z-index: 1000;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .mascot:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div id="loginContainer">
        <h1>Hello, Welcome back</h1>
        <form id="loginForm">
            <input type="text" id="username" placeholder="Enter your username">
            <input type="password" id="password" placeholder="Enter your password">
            <input type="submit" value="Login">
        </form>
        <div id="errorMessage" class="error-message">
            <img id="errorGif" src="images/anime-girl1.gif" alt="Anime Girl">
            <p>Oopsies! Incorrect username or password.</p>
            <p id="incorrectCounter">Incorrect attempts: 0</p>
        </div>
    </div>

    <img src="https://i.imgur.com/H7GtZ9j.png" alt="Saber" class="mascot" title="Saber" style="display: block;">

    <script>
        const correctCredentials = [
            { username: 'axel', password: 'lolcow12' },
            { username: 'Joshua', password: 'paris' },
            { username: 'frawd', password: 'pasta' }
        ];

        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const errorMessage = document.getElementById('errorMessage');
        const errorGif = document.getElementById('errorGif');
        const incorrectCounter = document.getElementById('incorrectCounter');
        const form = document.getElementById('loginForm');

        let attempts = 0;
        let isFirstGif = true;

        form.addEventListener('submit', function(event) {
            event.preventDefault();
            const enteredUsername = usernameInput.value;
            const enteredPassword = passwordInput.value;

            const isValid = correctCredentials.some(credential =>
                credential.username === enteredUsername && credential.password === enteredPassword
            );

            if (isValid) {
                window.location.href = '/success'; // Redirect to /success on valid credentials
            } else {
                attempts++;
                incorrectCounter.textContent = `Incorrect attempts: ${attempts}`;
                errorMessage.style.display = 'block';

                // Cycle between GIFs
                if (isFirstGif) {
                    errorGif.src = 'images/anime-girl2.gif'; // Switch to second GIF
                } else {
                    errorGif.src = 'images/anime-girl1.gif'; // Switch back to first GIF
                }
                isFirstGif = !isFirstGif; // Toggle the state
            }

            // Trigger fade-in effect by adding a class or inline style
            document.getElementById('loginContainer').style.opacity = 1;
            document.getElementById('loginForm').style.opacity = 1;
            document.getElementById('errorMessage').style.opacity = 1;
            document.getElementById('errorGif').style.opacity = 1;
        });

        // Trigger fade-in effect on page load
        window.addEventListener('load', () => {
            document.getElementById('loginContainer').style.opacity = 1;
            document.getElementById('loginForm').style.opacity = 1;
            document.getElementById('errorMessage').style.opacity = 1;
            document.getElementById('errorGif').style.opacity = 1;
        });

        const mascots = [
            { name: "Akaza Akari", image: "https://i.imgur.com/efamPLp.png" },
            { name: "Akemi Homura", image: "https://i.imgur.com/8v6aSbV.png" },
            { name: "Akiyama Mio", image: "https://i.imgur.com/fgbEdWe.png" },
            { name: "Ali Baba", image: "https://i.imgur.com/FWC00jB.png" },
            { name: "Cirno", image: "https://i.imgur.com/u65u8oN.png" },
            { name: "Fubuki Atsuya", image: "https://i.imgur.com/97DaEBD.png" },
            { name: "Gasai Yuno", image: "https://i.imgur.com/BurJnOd.png" },
            { name: "Hatsune Miku", image: "https://i.imgur.com/HsqOvDJ.png" },
            { name: "Hirasawa Yui", image: "https://i.imgur.com/ZttwSus.png" },
            { name: "Hitagi Senjougahara", image: "https://i.imgur.com/ttQDirH.png" },
            { name: "Horo", image: "https://i.imgur.com/4F6BAMZ.png" },
            { name: "Kaname Madoka", image: "https://i.imgur.com/TVlagl3.png" },
            { name: "Kikuchi Makoto", image: "https://i.imgur.com/aXVz09Y.png" },
            { name: "Kirisame Marisa", image: "https://i.imgur.com/MCvbGgt.png" },
            { name: "Kisaragi Chihaya", image: "https://i.imgur.com/4Hdd0R8.png" },
            { name: "Kousaka Kirino", image: "https://i.imgur.com/E0sdnuC.png" },
            { name: "Kurisu Makise", image: "https://i.imgur.com/pMNliiX.png" },
            { name: "Kuriyama Mirai", image: "https://i.imgur.com/TwcfQPD.png" },
            { name: "Kuroko no Basuke", image: "https://i.imgur.com/FNgiG0D.png" },
            { name: "Mashiro Shiina", image: "https://i.imgur.com/BxJylsO.png" },
            { name: "Mayoi Hachikuji", image: "https://i.imgur.com/Xgzke7s.png" },
            { name: "Miyamoto Konatsu", image: "https://i.imgur.com/GhwBI5n.png" },
            { name: "Nagase Iori", image: "https://i.imgur.com/SRWU4e1.png" },
            { name: "Nakano Azusa", image: "https://i.imgur.com/pfqZLHo.png" },
            { name: "Poko Fox", image: "https://i.imgur.com/OF68sMQ.png" },
            { name: "Remilia Scarlet", image: "https://i.imgur.com/3YSqyiI.png" },
            { name: "Ruri Gokou", image: "https://i.imgur.com/UtjqvU6.png" },
            { name: "Saber", image: "https://i.imgur.com/H7GtZ9j.png" },
            { name: "Shana", image: "https://i.imgur.com/MPD95PX.png" },
            { name: "Touwa Erio", image: "https://i.imgur.com/AFINQjc.png" },
            { name: "Yin", image: "https://i.imgur.com/rddrYFR.png" },
            { name: "Yoko Littner", image: "https://i.imgur.com/bEPA1rz.png" },
            { name: "Yukinoshita Yukino", image: "https://i.imgur.com/uu6Dh0I.png" },
            { name: "Yuuki Asuna", image: "https://i.imgur.com/283FX36.png" },
            { name: "Yuzuki Yukari", image: "https://i.imgur.com/84HOYIc.png" }
        ];

        const randomMascot = mascots[Math.floor(Math.random() * mascots.length)];

        document.querySelector(".mascot").src = randomMascot.image;
        document.querySelector(".mascot").alt = randomMascot.name;
        document.querySelector(".mascot").title = randomMascot.name;
        document.querySelector(".mascot").style.display = "block";
    </script>
</body>
</html>
